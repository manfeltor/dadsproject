{% extends "base.html" %}
{% load static %}

{% block title %}
Admin Panel â€” Bean & Bites
{% endblock %}

{% block styles %}
<!-- If admin needs special CSS later, add it here -->
{% endblock %}


{% block topbar %}
<header class="site-header">
  <div class="container header-inner">
    <div class="brand">
      <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?q=80&w=400&auto=format&fit=crop&ixlib=rb-4.0.3&s=7b0e8aa6361fd4d641b2f2d7a1efc0c3" alt="logo" />
      <h1>Admin â€” Bean & Bites</h1>
    </div>

    <!-- User Panel (same as landing.html) -->
    <div class="user-panel">
      {% if request.user.is_authenticated %}
      <div id="userMenu" class="user-menu">
        <button id="userMenuBtn" class="btn menu-btn">â˜°</button>
        <div class="menu-dropdown hidden" id="menuDropdown">

          <a href="#" id="profileLink">ğŸ‘¤ {{ request.user.username }}</a>

          {% if request.user.role == "manager" %}
            <a href="{% url 'adminlanding' %}">âš™ï¸ Administration</a>
          {% endif %}

          <a href="{% url 'logout' %}" class="logout">ğŸšª Logout</a>
        </div>
      </div>
      {% else %}
      <button id="loginButton" class="btn primary">Login</button>
      {% endif %}
    </div>
  </div>
</header>
{% endblock %}


{% block canvas %}
<div class="admin-local-header container">
  <a href="{% url 'home' %}" class="btn">ğŸ  Back to Store</a>
</div>
<main class="container admin-dashboard">
  <h2>Administration Panel</h2>
  <p class="muted">Manage your store operations below. Choose a section to continue.</p>

  <section class="admin-grid">
    <div class="admin-card" id="ordersCard">
      <h3>ğŸ“¦ Orders</h3>
      <p>View, update, and fulfill customer orders.</p>
      <a href="#" class="btn primary">Open Orders</a>
    </div>

    <div class="admin-card" id="usersCard">
      <h3>ğŸ‘¥ Users</h3>
      <p>Manage registered users, permissions, and account requests.</p>
      <a href="{% url 'user_list' %}" class="btn primary">Manage Users</a>
    </div>

    <div class="admin-card" id="messagesCard">
      <h3>âœ‰ï¸ Messages</h3>
      <p>Read and respond to contact form messages.</p>
      <a href="#" class="btn primary">View Messages</a>
    </div>

    <div class="admin-card" id="productsCard">
      <h3>â˜• Products</h3>
      <p>Add, edit, or remove items in your store catalog.</p>
      <a href="#" class="btn primary">Manage Products</a>
    </div>
  </section>
</main>
{% endblock %}


{% block modals %}
<!-- The login modal already comes from base.html -->
{% endblock %}


{% block scripts %}
<!-- No inline scripts needed! main.js handles everything -->
<form id="logoutForm" action="{% url 'logout' %}" method="post" style="display:none;">
  {% csrf_token %}
</form>
{% endblock %}
